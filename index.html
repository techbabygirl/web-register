<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online register</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->

</head>
<style>
    body{
        background-color: lightcyan;
        margin: 100px;
    }
    table{
        width: 500px;
        margin-top: 20px;
    }
   
</style>

<body >
    <!-- inputfield -->
   <h1>Online web Register</h1> 
    <span>Full Name :</span><input type="text" id="inputName" placeholder="input your name">
    <span>Phone Number :</span><input type="number" id="inputPhone" placeholder="mobile number">
    <span>Grades :</span><input type="number" id="inputGrades" placeholder="grade">
    <button onclick="registerData()">Register.</button>

    <!-- gradeColor -->
    <h1>click your grade range below to show your grade color</h1>
    <button onclick="gradeColor('<=40')"> <=40 </button>
    <button onclick="gradeColor('40-50')"> 41-50 </button>
    <button onclick="gradeColor('51-70')"> 50-70 </button>
    <button onclick="gradeColor('>70')"> >=70</button>
    <button onclick="reset()">DELETE ALL</button>

    <!-- Table -->

    <table class="table">
        <thead>
          <tr>
            <th>S/N</th>
            <th>Full Name</th>
            <th>Phone Number</th>
            <th id="gradeValue">Grades</th>
            <th><button>delete</button></th>
          </tr>
        </thead>
        <tbody id="displayRegister">
        </tbody>
      </table>
</body>
<!-- JAVASCRIPT -->
<script>
    let fullName = inputName.value
    let phoneNumber = inputPhone.value
    let grades = inputGrades.value
    let register = []

    function registerData(){
        let display = {
    fullName : inputName.value,
    phoneNumber :inputPhone.value,
    grades : inputGrades.value,
    bgColor: ''
    }
       register.push(display)
      
       showRegister() 

};
let currentColor

function showRegister(){

    displayRegister.innerHTML = ''
    register.forEach((elem, index)  => {
      displayRegister.innerHTML += 
       `<tr style="background-color: ${elem.bgColor}">
            <td>${index+1 } </td>
            <td>${elem.fullName}</td>
            <td>${elem.phoneNumber}</td>
            <td>${elem.grades}</td>
           <td><button onclick ="deleteRegFunc(${index})">del</button></td>
        </tr>`
    });
}
function deleteRegFunc(index){
    let delet = register.splice( index , 1) 
    showRegister()
}

function reset(){
    showRegister()
    displayRegister.innerHTML = ''
}

function gradeColor(grade){
 register.forEach((elem)=>{
        if(grade == '<=40' && elem.grades <= 40){
            elem.bgColor = 'red'
        }
        if (grade ==  '40-50' && elem.grades >= 41 &&  elem.grades <= 50) {
            elem.bgColor = 'yellow'
        }
        if (grade == '51-70' && elem.grades >= 51 && elem.grades <= 70) {
            elem.bgColor = 'orange'
        }
        if (grade == '>70' && elem.grades > 70) {
            elem.bgColor = 'green'
        }
    })
    console.log(register);
    showRegister()
}


</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>